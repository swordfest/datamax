import { render } from '@testing-library/react';
import { tab } from '@testing-library/user-event/dist/tab';
import React, { useState, useEffect, useRef } from 'react';
import '../index.css';

export default function TabMenu (props) {

    const [selected, setSelected] = useState('dashboard');
    const [posItemDash, setPosItemDash] = useState(0);
    const [posParentItemDash, setPosParentItemDash] = useState(0);

    // const animationBar = (pos, name) => {
    //     if (selected === name) {
    //         return console.log(selected);
    //     }
    // };

    const itemDash = useRef(null);
    const parentItemDash = useRef(null);

    const defineDistance = (elem, parentElem) => {
        return elem - parentElem;
    };

    // useEffect(() => {
    //     // setPosItemDash(iconDash.current.getBoundingClientRect());
    //     // setPosParentItemDash(parentIconDash.current.getBoundingClientRect());
    // },[])

    return (

        <div className='menu-app w-full h-auto flex justify-end px-3 gap-2.5 '>
                <div ref={parentItemDash} className='menu-app-options flex flex-col gap-6'>
                    {
                        props.tabs.map((tab) => (
                            <div ref={itemDash} className={'menu-opt-dashboard w-12 h-12 rounded-xl cursor-pointer hover:bg-slate-200 active:bg-slate-200 transition-colors ' + (selected === tab.name ? 'bg-slate-200' : '')} onClick={() => {setSelected(tab.name); console.log(defineDistance(tab.pos(itemDash.current), parentItemDash.current.getBoundingClientRect().top))}}>
                                <img alt='icon menu' src={`data:image/svg+xml;utf8,${encodeURIComponent(tab.icon)}`} />
                            </div>
                        ))
                    }
                </div>

                <div className=' relative cmenu-opts-pointer-container w-1.5 h-full py-4 '>
                    <div className=' absolute w-1.5 h-4 bg-[#2B79D6] rounded-full top-[16px] select-none '>Â </div>
                </div>
            </div>
    )
}

// export default TabMenu;





// const tabs = [
    //     {
    //         name: 'dashboard',
    //         icon: '<svg className="a" width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">'+
    //         '<path d="M16 18H18V20H16V18ZM16 23H18V25H16V23ZM16 28H18V30H16V28ZM32 20V18H20.023V20H30.8H32ZM20 23H32V25H20V23ZM20 28H32V30H20V28Z" fill="#111111"/>'+
    //         '</svg>',
    //         pos: 'top-[16px] animate-menu ease-in duration-100 transition-all',
    //     },
    //     {
    //         name: 'balance',
    //         icon: '<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">'+
    //         '<path d="M23.5999 26.48C21.8335 26.48 21.6799 25.6544 21.6799 25.52H19.7599C19.7599 26.4032 20.3935 27.968 22.6399 28.3232V29.36H24.5599V28.3232C26.4799 27.9968 27.4399 26.7584 27.4399 25.52C27.4399 24.4448 26.9407 22.64 23.5999 22.64C21.6799 22.64 21.6799 22.0352 21.6799 21.68C21.6799 21.3248 22.3519 20.72 23.5999 20.72C24.8479 20.72 24.9343 21.3344 24.9439 21.68H26.8639C26.851 21.026 26.6158 20.3959 26.197 19.8934C25.7782 19.3909 25.2009 19.0459 24.5599 18.9152V17.84H22.6399V18.8864C20.7199 19.2032 19.7599 20.4416 19.7599 21.68C19.7599 22.7552 20.2591 24.56 23.5999 24.56C25.5199 24.56 25.5199 25.2128 25.5199 25.52C25.5199 25.8272 24.9247 26.48 23.5999 26.48Z" fill="#111111"/>'+
    //         '<path d="M16.88 14H14V15.92H15.92V32.24C15.92 32.4946 16.0211 32.7388 16.2012 32.9188C16.3812 33.0989 16.6254 33.2 16.88 33.2H30.32C30.5746 33.2 30.8188 33.0989 30.9988 32.9188C31.1789 32.7388 31.28 32.4946 31.28 32.24V15.92H33.2V14H16.88ZM29.36 31.28H17.84V15.92H29.36V31.28Z" fill="#111111"/>'+
    //         '</svg>',
    //         pos: 'top-[88px] animate-menu ease-in duration-100 transition-all',
    //     },
    //     {
    //         name: 'buy',
    //         icon: '<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">'+
    //         '<path d="M33 16H14V18H16.3L19.58 27C19.7863 27.5835 20.1681 28.089 20.6729 28.4471C21.1778 28.8051 21.7811 28.9983 22.4 29H31V27H22.4C22.1945 26.9999 21.994 26.9365 21.8258 26.8184C21.6576 26.7003 21.5299 26.5333 21.46 26.34L21 25H30.28C30.714 24.9994 31.1361 24.8576 31.4824 24.596C31.8288 24.3344 32.0806 23.9673 32.2 23.55L34 17.27C34.0406 17.1387 34.0538 17.0004 34.0386 16.8638C34.0234 16.7271 33.9802 16.5951 33.9117 16.4759C33.8432 16.3568 33.7509 16.253 33.6404 16.1711C33.53 16.0892 33.4039 16.031 33.27 16C33.1806 15.9854 33.0894 15.9854 33 16ZM30.25 23H20.25L18.43 18H31.67L30.25 23Z" fill="#111111"/>'+
    //         '<path d="M22.5 33C23.3284 33 24 32.3284 24 31.5C24 30.6716 23.3284 30 22.5 30C21.6716 30 21 30.6716 21 31.5C21 32.3284 21.6716 33 22.5 33Z" fill="#111111"/>'+
    //         '<path d="M28.5 33C29.3284 33 30 32.3284 30 31.5C30 30.6716 29.3284 30 28.5 30C27.6716 30 27 30.6716 27 31.5C27 32.3284 27.6716 33 28.5 33Z" fill="#111111"/>'+
    //         '</svg>',
    //         pos: 'top-[160px] animate-menu ease-in duration-100 transition-all',
    //     },
    //     {
    //         name: 'settings',
    //         icon: '<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">'+
    //         '<path d="M24 28C26.206 28 28 26.206 28 24C28 21.794 26.206 20 24 20C21.794 20 20 21.794 20 24C20 26.206 21.794 28 24 28ZM24 22C25.084 22 26 22.916 26 24C26 25.084 25.084 26 24 26C22.916 26 22 25.084 22 24C22 22.916 22.916 22 24 22Z" fill="#111111"/>'+
    //         '<path d="M14.845 28.136L15.845 29.866C16.376 30.783 17.654 31.127 18.575 30.596L19.104 30.29C19.6825 30.7451 20.3204 31.1192 21 31.402V32C21 33.103 21.897 34 23 34H25C26.103 34 27 33.103 27 32V31.402C27.6793 31.1192 28.3172 30.7454 28.896 30.291L29.425 30.597C30.348 31.127 31.623 30.785 32.156 29.866L33.155 28.137C33.42 27.6777 33.4919 27.132 33.3548 26.6197C33.2177 26.1075 32.8829 25.6706 32.424 25.405L31.919 25.113C32.0263 24.3756 32.0263 23.6264 31.919 22.889L32.424 22.597C32.8827 22.3312 33.2174 21.8943 33.3544 21.3822C33.4914 20.87 33.4197 20.3244 33.155 19.865L32.156 18.136C31.625 17.216 30.348 16.871 29.425 17.404L28.896 17.71C28.3174 17.2549 27.6796 16.8808 27 16.598V16C27 14.897 26.103 14 25 14H23C21.897 14 21 14.897 21 16V16.598C20.3206 16.8808 19.6828 17.2546 19.104 17.709L18.575 17.403C17.651 16.872 16.375 17.216 15.844 18.135L14.845 19.864C14.58 20.3233 14.5081 20.869 14.6452 21.3813C14.7822 21.8935 15.117 22.3304 15.576 22.596L16.081 22.888C15.9732 23.6251 15.9732 24.3739 16.081 25.111L15.576 25.403C15.1171 25.669 14.7825 26.106 14.6455 26.6184C14.5084 27.1307 14.5802 27.6765 14.845 28.136ZM18.171 25.378C18.0581 24.9273 18.0006 24.4646 18 24C18 23.538 18.058 23.074 18.17 22.622C18.2227 22.4113 18.2054 22.1892 18.1206 21.9893C18.0358 21.7893 17.8881 21.6225 17.7 21.514L16.577 20.864L17.575 19.135L18.72 19.797C18.9067 19.905 19.1234 19.9496 19.3376 19.924C19.5519 19.8984 19.752 19.804 19.908 19.655C20.5845 19.0116 21.4003 18.5328 22.292 18.256C22.4968 18.1935 22.6761 18.0668 22.8036 17.8947C22.931 17.7226 22.9999 17.5142 23 17.3V16H25V17.3C25.0001 17.5142 25.0689 17.7226 25.1964 17.8947C25.3238 18.0668 25.5032 18.1935 25.708 18.256C26.5995 18.5332 27.4152 19.0119 28.092 19.655C28.2481 19.8037 28.4482 19.8979 28.6624 19.9235C28.8765 19.9491 29.0932 19.9047 29.28 19.797L30.424 19.136L31.424 20.865L30.3 21.514C30.112 21.6226 29.9644 21.7895 29.8796 21.9894C29.7948 22.1893 29.7774 22.4113 29.83 22.622C29.942 23.074 30 23.538 30 24C30 24.461 29.942 24.925 29.829 25.378C29.7765 25.5888 29.7941 25.8109 29.8791 26.0108C29.964 26.2107 30.1118 26.3775 30.3 26.486L31.423 27.135L30.425 28.864L29.28 28.203C29.0933 28.0948 28.8765 28.0501 28.6623 28.0757C28.448 28.1013 28.2479 28.1958 28.092 28.345C27.4155 28.9884 26.5996 29.4672 25.708 29.744C25.5032 29.8065 25.3238 29.9332 25.1964 30.1053C25.0689 30.2774 25.0001 30.4858 25 30.7L25.002 32H23V30.7C22.9999 30.4858 22.931 30.2774 22.8036 30.1053C22.6761 29.9332 22.4968 29.8065 22.292 29.744C21.4005 29.4668 20.5848 28.9881 19.908 28.345C19.7523 28.1954 19.552 28.1007 19.3376 28.0753C19.1232 28.0498 18.9064 28.095 18.72 28.204L17.576 28.866L16.576 27.137L17.7 26.486C17.8882 26.3775 18.0359 26.2107 18.1209 26.0108C18.2059 25.8109 18.2235 25.5888 18.171 25.378Z" fill="#111111"/>'+
    //         '</svg>',
    //         pos: 'top-[232px] animate-menu ease-in duration-100 transition-all',
    //     },
    // ];